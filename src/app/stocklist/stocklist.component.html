<!-- [resizable]="true" [sortable]="true" [sort]="sort" -->

<button (click)="getonlyfavorites()" mat-stroked-button color="accent">Favorites</button>
<button (click)="getupperCircuit()" mat-stroked-button color="accent"><mat-icon
  *ngIf="true"
  aria-label="UP_CKT">
  trending_up
</mat-icon></button>
<button (click)="getlowerCircuit()" mat-stroked-button color="accent"><mat-icon
  *ngIf="true"
  aria-label="LW_CKT">
  trending_down
</mat-icon></button>

<kendo-grid id="my-grid"  [pageable]="true" [rowClass]="rowCallback"
[pageSize]="500" [sortable]="true" [kendoGridBinding]="(gridDataEquties | async)!"
>
    <kendo-grid-column title="Stock">
        <ng-template kendoGridCellTemplate let-dataItem>

         <div>

          <div style="float: left;">


             <a  matBadgeColor="accent" target="_blank" href="{{dataItem.href }}" >
            {{ dataItem.stockName  }}

            &nbsp;
            <span style="color:  rgb(12, 11, 11); background-color: #F0FFFF; border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;">
             Open :  {{dataItem.open}}
             </span>
             &nbsp;
             <span style="color: rgb(12, 11, 11);background-color: #FFF8DC; border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;">
             Last : {{dataItem.last}}
             </span>

             &nbsp;
             <span style="color: #ffffff; border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': dataItem.change > 0 ? '#BFBFBF' : 'red'}">
             CHG : {{dataItem.change}} %
             </span>


             <button color="primary" mat-icon-button [ngStyle]="{'display': dataItem.isUpperCircuite  ? '' : 'none'}" >

              <mat-icon
                *ngIf="dataItem.isUpperCircuite"
                aria-label="UP_CKT">
                trending_up
              </mat-icon>
              <mat-icon
              *ngIf="dataItem.isUpperCircuite"
              aria-label="UP_CKT">
              trending_up
            </mat-icon>
            </button>
            <button color="warn" mat-icon-button mat-icon-button [ngStyle]="{'display': dataItem.isLowerCircuite  ? '' : 'none'}"  >
              <mat-icon
                *ngIf="dataItem.isLowerCircuite"
                aria-label="Lower_CKT">
                trending_down
              </mat-icon>

              <mat-icon
                *ngIf="dataItem.isLowerCircuite"
                aria-label="Lower_CKT">
                trending_down
              </mat-icon>
            </button>



            </a>
            <div>

              <span style="color: rgb(12, 11, 11); border-radius: 4px; font-size: 12px;margin: 0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                {{dataItem.recmdtn}}
              </span>
              <span style="color: rgb(13, 12, 12); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
               Beta : {{dataItem.beta | number : '1.2-2'}}
              </span>
              <span style="color: rgb(7, 7, 7); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
               eps :  {{dataItem.eps | currency :'INR'}}
              </span>
              <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                Target : {{dataItem.target | currency :'INR'}}
              </span>
              <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                Vol : {{dataItem.volumeC }}
              </span>
              <span style="color: rgb(9, 9, 9); border-radius: 4px; font-size: 12px;margin: 0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                <a target="_blank" href="{{dataItem.stockdetailshref }}" >
                  NS </a>

                  <!-- <span matBadge="{{dataItem.noofrec}}" matBadgeSize="small" matBadgePosition="above"></span> -->
              </span>
              <span style="border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;">
                <app-favoriteButton (selectedChange)="addormidifyfavorite($event)" [msnid]="dataItem.secId" [selected]="dataItem.isfavorite" ></app-favoriteButton></span>




              <app-slider-Componeent [currentPrice]="dataItem.last" [open]="dataItem.open" [min_len]="dataItem.price52Weekslow" [max_len]="dataItem.price52Weekshigh">

              </app-slider-Componeent>


            </div>

          </div>



            <div style="float: right;">

              <table style="border-spacing: 10px;">
                <tr>
                  <td>
                  <span style="color: rgb(12, 11, 11); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;">
                    1 Day
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(13, 12, 12); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" >
                     1 Week
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(7, 7, 7); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" >
                     1 Month
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" >
                    3 Months
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" >
                     6 Months
                   </span>
                  </td>

                  <td>
                    <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" >
                      1 Year
                    </span>
                   </td>

                   <td>
                    <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" >
                      YTD
                    </span>
                   </td>
                </tr>
                <tr>

                  <td>
                  <span style="color: rgb(12, 11, 11); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                    {{ dataItem.change | number : '1.2-2'  }} %
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(13, 12, 12); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                    {{ dataItem.return1w | number : '1.2-2' }} %
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(7, 7, 7); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                    {{ dataItem.return1m | number : '1.2-2'  }} %
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                    {{ dataItem.return3m | number : '1.2-2'  }} %
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                    {{ dataItem.return6m | number : '1.2-2'  }} %
                   </span>
                  </td>
                  <td>
                    <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                     {{ dataItem.return1Year | number : '1.2-2'  }} %
                    </span>
                   </td>
                   <td>
                    <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                     {{ dataItem.returnYTD | number : '1.2-2'  }} %
                    </span>
                   </td>
                </tr>
                <tr>
                  <td>
                  <span style="color: rgb(12, 11, 11); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}">
                    <span> {{ dataItem.priceChange_Day > 0 ? '+':'' }}</span> {{ dataItem.priceChange_Day | number : '1.2-2'  }}

                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(13, 12, 12); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': dataItem.return1w > dataItem.return1m ? '#affbb5' : '#ffe8e7'}">
                    <span> {{ dataItem.priceChange_1w > 0 ? '+':'' }}</span> {{ dataItem.priceChange_1w | number : '1.2-2'  }}
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(7, 7, 7); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': dataItem.return1m > dataItem.return3m  ? '#affbb5' : '#ffe8e7'}" >
                    <span> {{ dataItem.priceChange_1m > 0 ? '+':'' }}</span>

                    {{ dataItem.priceChange_1m | number : '1.2-2'  }}
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': dataItem.return3m > 0  ? '#affbb5' : '#ffe8e7'}" >
                   <span> {{ dataItem.priceChange_3m > 0 ? '+':'' }}</span>
                    {{ dataItem.priceChange_3m | number : '1.2-2'  }}
                   </span>
                  </td>
                  <td>
                   <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                    <span> {{ dataItem.priceChange_6m > 0 ? '+':'' }}</span>  {{ dataItem.priceChange_6m | number : '1.2-2'  }}
                   </span>
                  </td>

                  <td>
                    <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                     <span> {{ dataItem.priceChange_1year > 0 ? '+':'' }}</span>  {{ dataItem.priceChange_1year | number : '1.2-2'  }}
                    </span>
                   </td>

                   <td>
                    <span style="color: rgb(10, 10, 10); border-radius: 4px; font-size: 12px;margin:  0.5px;display: inline-block;" [ngStyle]="{'background-color': carDateCalculator(dataItem.recmdtn) ? '#affbb5' : '#ffe8e7'}" >
                     <span> {{ dataItem.priceChange_YTD > 0 ? '+':'' }}</span>  {{ dataItem.priceChange_YTD | number : '1.2-2'  }}
                    </span>
                   </td>
                </tr>
              </table>
              <div>
              </div>
            </div>

            <mat-progress-bar
            class="example-margin"
            [color]="color"
            [mode]="mode"
            [value]="dataItem.totalBuyQt"
            [bufferValue]="dataItem.totalSellQ">
        </mat-progress-bar>
          </div>
        </ng-template>

    </kendo-grid-column>




<kendo-grid-column   title="Chart" class="grid-one-day-chart"
[sortable]="false">
<ng-template kendoGridCellTemplate let-dataItem>
    <day-chart (selectedpoint)="addormidifypoint($event)"   [data]="dataItem.intraday" [symbol]="dataItem.symbol" [min]="dataItem.min" [open]="dataItem.int_open" [last]="dataItem.int_last" [max]="dataItem.max" [CurrentData]="dataItem" >
    </day-chart>
</ng-template>


</kendo-grid-column>


</kendo-grid>

<!-- <kendo-grid-column  [width]="70" title="Last">
    <ng-template kendoGridCellTemplate let-dataItem>
     <span> {{ dataItem.last | currency :'INR'  }} </span>


  </ng-template>
</kendo-grid-column>









<kendo-grid-column [width]="70"  title="Change">
  <ng-template kendoGridCellTemplate let-dataItem>

      <span> {{ dataItem.change  }}</span>

  </ng-template>
</kendo-grid-column>







<kendo-grid-column [width]="70"   title="1Wk" >
  <ng-template kendoGridCellTemplate let-dataItem>
    {{ dataItem.return1w | currency :'INR'  }}
</ng-template>
</kendo-grid-column>

<kendo-grid-column [width]="70"  title="1M" >
  <ng-template kendoGridCellTemplate let-dataItem>
    {{ dataItem.return1m | currency :'INR'  }}
</ng-template>
</kendo-grid-column>
<kendo-grid-column [width]="70"  title="3M" >
  <ng-template kendoGridCellTemplate let-dataItem>
    {{ dataItem.return3m | currency :'INR'  }}
</ng-template>
</kendo-grid-column> -->


